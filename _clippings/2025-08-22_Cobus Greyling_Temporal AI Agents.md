---
title: "Temporal AI Agents"
source: "https://cobusgreyling.medium.com/temporal-ai-agents-311d950381c1"
author:
  - "[[Cobus Greyling]]"
published: 2025-08-22
created: 2025-08-22
description: "Memory is also important from continuity perspective and optimising the user experience; the user does not have to repeat or re-input information which can be drawn from conversation history. RAG is…"
tags:
  - "Cobus Greyling"
---
[Sitemap](https://cobusgreyling.medium.com/sitemap/sitemap.xml)

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*3JHTIqU6I74fitPsWfIZLA.png)

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*hp_PwrW8i44Wtn-4X8whwQ.png)

可以将时态人工智能代理架构视为将数据块当作微型内存存储。

每个块（语义分割后的原始数据）被处理成带时间戳的三元组和事件，这些三元组和事件捕捉特定事实或关系，如收入数字或角色变化，并带有时间元数据，例如 `valid_at` 、 `expired_at` 。

这些三元组存储在知识图谱中，充当紧凑的上下文记忆单元，既能保留内容，又能保留其时间相关性。

这使它们成为微记忆存储：与特定时间框架相关联的离散、结构化信息表示，使系统能够为检索增强生成（RAG）或其他查询跟踪不断演变的上下文。

与具有情景或程序组件的成熟智能体记忆系统不同，这些数据块专注于时间感知事实，为动态数据形成一个轻量级、保存历史的主干。

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*usNymSLAPZvOfGFECatIIQ.png)

人工智能代理/具身人工智能构建环境应该有一个基本的可用组件列表来进行构建，例如模型集成与管理、工具、一个实验场等等。此外，还有内存，具备多种管理内存的方式……时序人工智能代理重新审视了如何将内存与检索增强生成（RAG）和上下文相结合。鉴于上下文本质上也可以是历史性的。

## 什么是时态人工智能代理？

时态人工智能代理在管理包含时间敏感信息的任务方面表现出色。

它们将知识图谱（实体和关系的结构化数据存储）与随时间处理和更新数据块的人工智能智能体相结合。

这里的知识图谱将事实以三元组（ **主语** \- **谓语** \- **宾语** ）的形式保存，每个三元组都带有时间戳，例如：

`valid_at` or

`expired_at`.

“时间性”部分意味着系统会跟踪数据如何变化。

人工智能代理处理对这些变化的推理，做出考虑到历史和进展的决策或预测。

例如，在分析收益电话会议记录时，系统会将文本处理成块，提取事件，并将它们存储在图中。

这种设置超越了静态数据处理。

它支持诸如调度、预测或实时分析等应用，在这些应用中上下文必须保持最新状态。

## 保持 RAG 块的时效性

时态人工智能代理增强了基于检索增强生成（RAG）。

标准的检索增强生成（RAG）从存储中提取数据块以生成语言模型的回答，但在大多数情况下，数据块没有版本控制，没有历史记录或历史上下文可供使用。

时态人工智能代理通过保持数据块（如原始数据的语义片段，例如转录片段）的时效性来解决这个问题。

新数据被摄取，使用诸如带有嵌入的 SemanticChunker 之类的工具进行分块，并转化为带时间戳的三元组。

***然后系统会检查是否有过时信息，并更新图表，而不删除旧条目。***

这创建了一个动态、不断演进的存储库，其中基于检索增强生成（RAG）的查询会提取最新的、上下文感知数据。但旧的数据块仍在那里，作为人工智能代理的一种微型记忆。

在实践中，这意味着对于动态场景（如监控财务工作流程），RAG 变得更加可靠。

## 过时的块如何被识别和替换

该过程从摄取开始：获取原始数据，进行语义分块，然后将其提供给人工智能代理进行提取。

语句分为静态（ *不变* ）、动态（ *演变* ）或非时间性（ *无时间限制* ）。

三元组获取时间戳和嵌入。

识别使用无效代理。

## 在收件箱中获取科布斯·格雷林的故事

免费加入 Medium，获取这位作者的更新内容。

它通过以下方式将新三元组与现有三元组进行比较：

- 时间重叠检查（时间跨度是否相交？）
- 嵌入相似度（余弦距离，阈值如0.5）。
- LLM 推理（GPT-4o-mini 检测矛盾）

替换是非破坏性的，过时的三元组会用“expired\_at”或“invalid\_at”字段进行标记，并通过“invalidated\_by”链接到新的三元组。

这为审计保留了历史记录。

批次可高效处理更新，通过选择最早的失效时间来解决重复问题。

对于长期维护，存档规则会根据数据的生存时间和分数（新鲜度×信任度×查询频率）来清理低相关性数据。

## Triplet

一个 **三元组** 是以 **主语-谓语-宾语** 元组形式存在的信息的结构化表示。

它是在知识图谱中对关系或事实进行编码的基本单元，便于存储、查询和对数据进行推理。

以下是快速分解：

- **主题** ：该事实所涉及的实体或事物（例如“TechNova”）。
- **谓词** ：将主语与宾语联系起来的关系或属性（例如 “reported\_revenue”）。
- **对象** ：通过谓词与主体相关的值或实体（例如，“1000 万美元”）。

例如，从一个转录片段中，一个三元组可能是：

- **主题** ：“科技新星”
- **谓词** ：“reported\_revenue”
- **对象** ：“1000 万美元”

在时态人工智能代理中，三元组会被诸如时间戳（valid\_at、expired\_at）等元数据丰富，以跟踪事实何时相关，从而实现时间感知推理。

三元组存储在知识图谱中，在其中可以对它们进行查询或更新，以便为像 RAG 这样的应用程序维护动态的上下文记忆。

## The Agents Involved

多个智能体在这个流程中协作：

## Temporal Agent

核心处理器；提取语句，对其进行分类，并集成到图中。

## Invalidation Agent

检查有效性，标记过时信息。

## Retrieval Agent

在图中查询答案，随着时间推移遍历关系。

## Extraction Agent

从块中提取事件和三元组。

## Entity Resolution

将新实体与现有实体进行匹配以避免重复。

这种模块化设计使系统具有可扩展性。

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*Q3MTcSSNsue-q5CGOf5isA.png)

## 生产实施

对于实际应用，一个定时例程会按间隔运行（ *每天或事件触发* ）。

它获取新数据，对其进行分块，处理成三元组，并使过时的条目失效。

该笔记本记录了处理时间（每份文字记录2至5分钟），因此在生产环境中需要并行处理、缓存和错误处理。

## In Closing

时态智能体提供了一种直接的方式来管理人工智能系统中不断变化的数据。

通过将时间整合到知识图谱中，它们确保了在不断变化的环境中的准确性，这对金融或事件跟踪等领域很有用。如果你正在构建基于检索增强生成（RAG）的应用程序，可以从笔记本开始——它是进行实验的坚实基础。
