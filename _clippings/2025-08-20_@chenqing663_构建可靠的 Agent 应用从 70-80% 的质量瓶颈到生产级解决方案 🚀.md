---
title: "构建可靠的 Agent 应用:从 70-80% 的质量瓶颈到生产级解决方案 🚀"
source: "https://x.com/chenqing663/status/1957959545709556130"
author:
  - "[[@chenqing663]]"
published: 2025-08-20
created: 2025-08-20
description:
tags:
  - "@chenqing663 #LLM #AI #Agent #12FactorAgents #生产就绪 #可靠性"
---
**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959545709556130)

构建可靠的 Agent 应用：从 70-80% 的质量瓶颈到生产级解决方案 🚀

很多开发者在 LLM Agent 项目中，常在 70-80% 的质量后停滞不前，甚至推倒重来。

为解决这一挑战，Dex Horthy & HumanLayer 提出了 12-Factor Agents。

核心理念：Agent 本质上是软件。

🧵 以下 12 个关键原则：

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959547357909318)

Factor 1: Natural Language to Tool Calls（自然语言到工具调用）

LLM 最“神奇”的能力之一是将自然语言指令转化为结构化数据（如 JSON），而不是依赖复杂循环或代码执行。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959550533026165)

Factor 2: Own your prompts（掌控你的 Prompt）

Prompt 的质量决定 Agent 的可靠性。

要达到高标准，可能需要逐 Token 精修 + 反复测试与评估。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959554236576019)

Factor 3: Own your context window（掌控上下文窗口）

在向 LLM 传递信息时，优化上下文窗口的密度和清晰度，确保模型接收最有效的信息并输出高质量结果。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959557415858404)

Factor 4: Tools are just structured outputs（工具只是结构化输出）

工具调用 ≠ 魔法。

它只是 LLM 输出的 JSON，由确定性代码执行。

理解这一点能简化控制与使用。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959561102651741)

Factor 5: Unify execution state & business state（统一执行与业务状态）

Agent 应像标准 API 一样管理执行状态（步骤、重试次数）和业务状态（消息历史、用户数据）。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959565179515101)

Factor 6: Launch / Pause / Resume with simple APIs（API 启停恢复）

将 Agent 封装在 REST API 或服务中，可管理生命周期：

👉 序列化上下文

👉 存数据库

👉 需要时恢复

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959569055043837)

Factor 7: Contact humans with tool calls（工具调用联系人类）

在关键决策点，Agent 应能通过工具调用与人协作：请求澄清、升级问题。

这样能显著提高复杂场景下的可靠性。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959572255305839)

Factor 8: Own your control flow（掌控控制流）

软件本质是有向图（DAG）。

别完全依赖 LLM 控制步骤，用传统控制流（switch/loop）增强灵活性与可靠性。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959575732371721)

Factor 9: Compact Errors into Context Window（错误信息精简入上下文）

不要把完整堆栈丢给模型。

要做的是：压缩、总结错误，让模型能有效理解并修正。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959578836259274)

Factor 10: Small, Focused Agents（小型、专注 Agent）

构建微型 Agent：

👉 每个只负责一小块功能

👉 职责清晰

👉 上下文可控

模块化提升整体可靠性。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959582720094505)

Factor 11: Trigger from anywhere（多渠道触发交互）

Agent 应该能在用户所在之处触发：

📩 邮件

💬 Slack

💬 Discord

📱 短信

而不是局限于单一聊天界面。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959586738258039)

Factor 12: Stateless reducer（无状态 reducer）

Agent 本身应是无状态纯函数。

状态由外部系统管理 → 灵活性 & 可伸缩性更强。

---

**Thinking Garden** @chenqing663 [2025-08-20](https://x.com/chenqing663/status/1957959590508896305)

🔗 GitHub - humanlayer/12-factor-agents

#LLM #AI #Agent #12FactorAgents #生产就绪 #可靠性  
🔗 GitHub - humanlayer/12-factor-agents （此处原样保留英文内容，因为这看起来像是一个链接或代码相关的特定标识，原样保留更符合技术文本翻译要求）

#LLM #AI #Agent #12FactorAgents #生产就绪 #可靠性