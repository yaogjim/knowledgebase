大家好，我是 Paul。我是 Browserbase 的创始人，我痴迷于浏览器，尤其是一种特定类型的浏览器——无头浏览器（headless browsers）。

我今天来这里是想谈谈“浏览器就是你所需要的一切”（The Browser is all you need）。不是 Attention，不是 MCP，而是浏览器。或者更具体地说，是浏览器 MCP 服务器。

### 浏览器——连接 AI 与传统互联网的桥梁

首先，简单介绍一下 Browserbase。自己搭建浏览器基础设施会非常混乱，而且经常出问题。而通过 Browserbase，你可以在云端轻松运行成千上万个无头浏览器，并进行控制。

你可能会问，为什么我需要一个浏览器？因为每个 AI 代理都需要一个网页浏览器。这是我这次演讲的重点。

我认为有两个世界：AI 代理（AI Agents）和传统互联网（The Legacy Internet）。像车管所（DMV）或者我的理发店，它们短期内不会提供 MCP 服务器或 GraphQL API。如果想让 AI 代理与这些传统互联网服务互动，它们就需要一座桥梁。我坚信，浏览器就是连接 AI 与互联网其他部分的桥梁。

这指的是那些“不那么性感”的互联网——那些不会得到太多关注的部分。比如，我还没见过有人做一个能自动申报特拉华州特许经营税的代理，尽管这很有用。

### AI 如何控制浏览器？

现在人们喜欢用各种缩写词，比如 MCP、A2A、OpenAPI。但当这些都不存在时，你只能“直接用网站”。这就像一个经典的智商分布曲线迷因：智商较低和智商极高的人都会说“直接用网站”，而中间的人则在纠结于各种复杂的概念。

那么，AI 究竟如何控制浏览器呢？主要通过两种方式：网页代理（Web Agents）和浏览器工具（Browser Tools）。

**什么是网页代理？**

网页代理是指让一个模型解析页面的 DOM（HTML 和 CSS），然后生成代码来控制浏览器。

*   早期的例子有 WebVoyager，它通过截图和思维链（Chain of Thought）提示来进行操作。
*   其他例子包括 Adept、OpenAI 的 Operator、Proxy by Convergence 和 HCompany。

目前，网页代理主要分为两类：

*   **视觉网页代理 (Vision Web Agents)**：
    *   主要使用**截图**作为模型的上下文。
    *   通过在截图上做标记来提示目标元素。
    *   更适合 DOM 结构非常复杂的页面。
*   **文本网页代理 (Text Web Agents)**：
    *   主要使用 **HTML**作为模型的上下文。
    *   使用 **XPaths** 或 **Playwright 代码**来定位目标元素。
    *   如果页面不变，输出更容易复用。

现在，我们还看到了计算机使用模型（Computer-Use Models）的兴起，它们在 UI 任务和网页轨迹上进行训练，这是该领域的下一步发展。

### 网页代理 vs. 浏览器工具

你需要分清自己想要的是网页代理还是浏览器工具。

*   **网页代理 (Web Agents)**：
    *   **一个提示 -> 多个动作**。
    *   推理过程与代理本身紧密耦合。
    *   确定性较低。
    *   例子：OpenAI 的 Operator。

*   **浏览器工具 (Browser Tools)**：
    *   **一个提示 -> 一个动作**。
    *   推理过程由调用工具的代理来控制。
    *   确定性更高。
    *   例子：Browserbase 的 Stagehand。

我坚信，你的 AI 代理需要的是一个**浏览器工具**。

### MCP 服务器：垂直 vs. 水平

在考虑 MCP（Model, Controller, Primitives）服务器时，也需要区分两种类型：

*   **垂直服务器 (Vertical Server)**：
    *   与下游的某个特定服务**紧密耦合**。
    *   专注于管理该特定服务。
    *   例子：Linear MCP、Google Workspace MCP。

*   **水平服务器 (Horizontal Server)**：
    *   为代理提供**通用能力**。
    *   可用于多种类型的任务。
    *   例子：邮件（Resend）、**浏览（Browserbase）**、支付（Stripe）。

对于浏览这个场景，我们将其视为一个水平 MCP 服务器。它暴露的是通用原语，比如“在页面上点击一个按钮”。这个页面可能是任何网站，因此，一个水平服务器就有可能实现整个网络的自动化。

### 重要的考量

1.  **合规性 (Compliance)**
    *   MCP 服务器需要通过合规性审查。
    *   动态工具发现对 CSO（首席安全官）来说风险很高，因为你很难控制代理能访问哪些工具。
    *   为每个垂直 MCP 服务器获取批准会很困难。相比之下，批准一个浏览器 MCP 服务器，就相当于批准了 10 个垂直 MCP 服务器。

2.  **评估 (Evals)**
    *   大多数公开的“基准测试”都是**假新闻**，尤其当发布基准测试的公司同时也在给自己排名时。
    *   你需要建立自己的评估体系。
    *   模型在不同任务上的表现差异很大，你需要通过自己的评估来找到最适合你特定任务的模型。

3.  **可观察性 (Observability)**
    *   你需要能够看到 AI 代理在浏览器里到底做了什么。日志不等于实际的浏览器状态。
    *   你需要**人在环路 (Human in the loop)** 的流程。
    *   需要有**接管模式 (Takeover mode)**。

### 总结

最终，**浏览器是互联网其余部分的默认 MCP 服务器**。当你想集成的服务没有现成的 API 或 MCP 时，你应该考虑使用浏览器作为最终的集成方案。

### 现场演示：领养一只狗！

（演示者切换到代码编辑器和浏览器界面）

我在 Cursor 编辑器里写了一个提示：
“创建一个新的 browserbase会话，导航到 `https://www.sfspca.org`，关掉所有弹窗，然后在旧金山找一只可以领养的狗，最后返回我可以领养这只狗的 URL。”

（运行代码）

我们可以看到，它正在调用我们的 MCP 工具。首先，它创建了一个会话，然后导航到了 SF SPCA 的网站。它识别并关闭了弹出的广告窗口，然后继续浏览页面，找到了狗的领养页面，并返回了“Zoe”这只狗的领养链接。

这个例子说明，当你在进行网页自动化时，会遇到各种意想不到的情况，比如弹窗。你需要一个能够根据页面变化做出反应的 AI 代理。最重要的，是解决那些看似“无聊”但实际存在的问题。我们的客户不仅仅是 Perplexity 这样的科技公司，也有一家成立了 55 年的乳制品运输公司，他们今年才第一次雇佣工程师，而他们做的第一件事就是用 Browserbase 来自动化一个非常痛苦的运营工作流。

### 问答环节

**问：你们在导航时使用特定的模型吗？**

答：我们是模型无关的（model-agnostic）。Browserbase 提供的是运行无头浏览器的基础设施以及框架和工具，比如我们的 MCP 服务器和 Stagehand 框架。你自己带来模型。你可以根据具体情况选择不同的模型，比如如果需要处理 HIPAA 数据，你可能会选择支持零数据保留的 OpenAI 模型。我们提供基础设施，你带来模型。

**问：你们如何处理需要人工介入的流程，比如处理敏感的金融数据？**

答：这正是可观察性（Observability）发挥作用的地方。我们不仅提供会话录制功能（可以根据数据敏感性开启或关闭），你还可以将这些录制内容嵌入到面向用户的应用中，向他们展示发生了什么。我们还有一个“实时视图（Live View）”功能，你可以嵌入一个 iframe 来实时查看浏览器中发生的事情。更好的是，如果需要，人类用户可以直接在这个实时视图中点击和输入，实现“接管模式”。所以它不仅是浏览器自动化，也可以是浏览器协同驾驶（co-pilot）。

**问：网站如何通过 CAPTCHA 等方式检测并阻止机器人导航？**

答：CAPTCHA 是个大挑战。过去，CAPTCHA 的目的是阻止所有机器人。但现在有了“好机器人”和“坏机器人”。Browserbase 提供 CAPTCHA 识别和代理服务作为短期解决方案。但我们认为，长期的解决方案是**代理认证（Agent Authentication）**。大多数 CAPTCHA 出现在登录环节。一旦登录，网站就知道代理是代表谁在操作。我们建议客户首先要成为互联网的好公民，遵守 `robots.txt` 规则。如果你违反规则，最终总会被封禁。我们的目标是帮助用户解决那些简单的问题，而不是做违规或不道德的事情。
